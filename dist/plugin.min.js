/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./resources/js/entry.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./resources/js/entry.js":
/*!*******************************!*\
  !*** ./resources/js/entry.js ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _sass_plugin_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../sass/plugin.scss */ "./resources/sass/plugin.scss");
/* harmony import */ var _sass_plugin_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_sass_plugin_scss__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _parallax_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parallax.js */ "./resources/js/parallax.js");
/* harmony import */ var _parallax_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_parallax_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _plugin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./plugin.js */ "./resources/js/plugin.js");
/* harmony import */ var _plugin_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_plugin_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _slider_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./slider.js */ "./resources/js/slider.js");
/* harmony import */ var _slider_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_slider_js__WEBPACK_IMPORTED_MODULE_3__);





/***/ }),

/***/ "./resources/js/parallax.js":
/*!**********************************!*\
  !*** ./resources/js/parallax.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Parallax =
/*#__PURE__*/
function () {
  function Parallax() {
    _classCallCheck(this, Parallax);

    this.parallaxItems = document.querySelectorAll('.danzerpress-parallax');
    this.navHeight = document.querySelector('header').offsetHeight;
    this.init();
  }

  _createClass(Parallax, [{
    key: "init",
    value: function init() {
      var _this = this;

      document.addEventListener('scroll', function () {
        window.requestAnimationFrame(function () {
          _this.scrollHandler();
        });
      });
    }
  }, {
    key: "getElementOffset",
    value: function getElementOffset(el) {
      var top = 0;
      var element = el; // Loop through the DOM tree
      // and add it's parent's offset to get page offset

      do {
        top += element.offsetTop || 0;
        element = element.offsetParent;
      } while (element);

      return top;
    }
  }, {
    key: "scrollHandler",
    value: function scrollHandler() {
      var _this2 = this;

      this.parallaxItems.forEach(function (parallaxItem) {
        var sectionParent = parallaxItem.parentElement.classList.contains('danzerpress-title-area') ? parallaxItem.parentElement : parallaxItem.closest('section'),
            sectionParentTop = _this2.getElementOffset(sectionParent),
            parentOffsetBottom = sectionParentTop + sectionParent.offsetHeight,
            windowHeightNav = _this2.getElementOffset(parallaxItem) !== 0 ? window.pageYOffset + _this2.navHeight : window.pageYOffset;

        if (windowHeightNav > sectionParentTop && windowHeightNav < parentOffsetBottom) {
          parallaxItem.style.transform = 'translate3d(0, ' + (windowHeightNav - sectionParentTop) * .6 + 'px, 0)';
        } else {
          parallaxItem.style.transform = 'translate3d(0, 0px, 0)';
        }
      });
    }
  }]);

  return Parallax;
}();

new Parallax();

/***/ }),

/***/ "./resources/js/plugin.js":
/*!********************************!*\
  !*** ./resources/js/plugin.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {



/***/ }),

/***/ "./resources/js/slider.js":
/*!********************************!*\
  !*** ./resources/js/slider.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var Slider =
/*#__PURE__*/
function () {
  function Slider() {
    _classCallCheck(this, Slider);

    this.height = 0;
    this.sliderNumber = 3;
    this.sliderWrap = document.querySelector('.danzerpress-slider-wrap');
    this.slider = document.querySelector('.danzerpress-slider');

    if (!this.slider) {
      return;
    }

    this.createPagination();
    this.handleSlider();
  }

  _createClass(Slider, [{
    key: "createPagination",
    value: function createPagination() {
      var _this = this;

      var sliderPagination = "\n            <div class=\"danzerpress-slider-pagination\">\n                <ul>\n                </ul>\n            </div>\n        ";
      var doc = new DOMParser().parseFromString(sliderPagination, 'text/html').body.firstChild;

      for (var i = 0; i < this.slider.children.length; i++) {
        if (i > this.sliderNumber) {
          var button = document.createElement('li');
          doc.children[0].append(button);
          button.classList.add('active');
          button.addEventListener('click', function (e) {
            var activeDiv = document.querySelectorAll('.danzerpress-slider div.active');
            var activeLi = document.querySelectorAll('.danzerpress-slider-pagination ul li');

            _this.setActiveStuff(activeDiv);

            _this.setActiveStuff(activeLi);

            e.target.classList.add('active');
          });
        }
      }

      this.sliderWrap.append(doc);
    }
  }, {
    key: "handleSlider",
    value: function handleSlider() {
      for (var i = 0; i < this.slider.children.length; i++) {
        var child = this.slider.children[i];
        var itemHeight = child.offsetHeight;

        if (itemHeight > this.height) {
          this.height = itemHeight;
        }

        child.style.position = 'absolute';
        child.classList.add('slider-child');
        child.classList.add('active');
      }

      this.slider.style.height = this.height + 'px';
    }
  }, {
    key: "setActiveStuff",
    value: function setActiveStuff(thing) {
      if (thing) {
        thing.forEach(function (div) {
          div.classList.remove('active');
        });
      }
    }
  }]);

  return Slider;
}();

new Slider();

/***/ }),

/***/ "./resources/sass/plugin.scss":
/*!************************************!*\
  !*** ./resources/sass/plugin.scss ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2VudHJ5LmpzIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9wYXJhbGxheC5qcyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvc2xpZGVyLmpzIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9zYXNzL3BsdWdpbi5zY3NzP2I2MDIiXSwibmFtZXMiOlsiUGFyYWxsYXgiLCJwYXJhbGxheEl0ZW1zIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwibmF2SGVpZ2h0IiwicXVlcnlTZWxlY3RvciIsIm9mZnNldEhlaWdodCIsImluaXQiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2Nyb2xsSGFuZGxlciIsImVsIiwidG9wIiwiZWxlbWVudCIsIm9mZnNldFRvcCIsIm9mZnNldFBhcmVudCIsImZvckVhY2giLCJwYXJhbGxheEl0ZW0iLCJzZWN0aW9uUGFyZW50IiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY2xvc2VzdCIsInNlY3Rpb25QYXJlbnRUb3AiLCJnZXRFbGVtZW50T2Zmc2V0IiwicGFyZW50T2Zmc2V0Qm90dG9tIiwid2luZG93SGVpZ2h0TmF2IiwicGFnZVlPZmZzZXQiLCJzdHlsZSIsInRyYW5zZm9ybSIsIlNsaWRlciIsImhlaWdodCIsInNsaWRlck51bWJlciIsInNsaWRlcldyYXAiLCJzbGlkZXIiLCJjcmVhdGVQYWdpbmF0aW9uIiwiaGFuZGxlU2xpZGVyIiwic2xpZGVyUGFnaW5hdGlvbiIsImRvYyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImJvZHkiLCJmaXJzdENoaWxkIiwiaSIsImNoaWxkcmVuIiwibGVuZ3RoIiwiYnV0dG9uIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsImFkZCIsImUiLCJhY3RpdmVEaXYiLCJhY3RpdmVMaSIsInNldEFjdGl2ZVN0dWZmIiwidGFyZ2V0IiwiY2hpbGQiLCJpdGVtSGVpZ2h0IiwicG9zaXRpb24iLCJ0aGluZyIsImRpdiIsInJlbW92ZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQTBDLGdDQUFnQztBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdFQUF3RCxrQkFBa0I7QUFDMUU7QUFDQSx5REFBaUQsY0FBYztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQXlDLGlDQUFpQztBQUMxRSx3SEFBZ0gsbUJBQW1CLEVBQUU7QUFDckk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7O0FBR0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2xGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQ0ZNQSxROzs7QUFDRixzQkFDQTtBQUFBOztBQUNJLFNBQUtDLGFBQUwsR0FBcUJDLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsdUJBQTFCLENBQXJCO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQkYsUUFBUSxDQUFDRyxhQUFULENBQXVCLFFBQXZCLEVBQWlDQyxZQUFsRDtBQUNBLFNBQUtDLElBQUw7QUFDSDs7OzsyQkFHRDtBQUFBOztBQUNJTCxjQUFRLENBQUNNLGdCQUFULENBQTBCLFFBQTFCLEVBQW9DLFlBQU07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Q0FFYzJCLEssRUFDZjtBQUNJLFVBQUlBLEtBQUosRUFBVztBQUNQQSxhQUFLLENBQUMxQyxPQUFOLENBQWMsVUFBQzJDLEdBQUQsRUFBUztBQUNuQkEsYUFBRyxDQUFDdkMsU0FBSixDQUFjd0MsTUFBZCxDQUFxQixRQUFyQjtBQUNILFNBRkQ7QUFHSDtBQUNKOzs7Ozs7QUFFTCxJQUFJOUIsTUFBSixHOzs7Ozs7Ozs7OztBQ3hFQSx5QyIsImZpbGUiOiJwbHVnaW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9yZXNvdXJjZXMvanMvZW50cnkuanNcIik7XG4iLCJpbXBvcnQgJy4uL3Nhc3MvcGx1Z2luLnNjc3MnO1xuaW1wb3J0ICcuL3BhcmFsbGF4LmpzJztcbmltcG9ydCAnLi9wbHVnaW4uanMnO1xuaW1wb3J0ICcuL3NsaWRlci5qcyc7IiwiY2xhc3MgUGFyYWxsYXgge1xuICAgIGNvbnN0cnVjdG9yKCkgXG4gICAge1xuICAgICAgICB0aGlzLnBhcmFsbGF4SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGFuemVycHJlc3MtcGFyYWxsYXgnKTtcbiAgICAgICAgdGhpcy5uYXZIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkZXInKS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIGluaXQoKSBcbiAgICB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsSGFuZGxlcigpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0RWxlbWVudE9mZnNldChlbCkge1xuICAgICAgICBsZXQgdG9wID0gMDtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBlbDtcbiAgICBcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBET00gdHJlZVxuICAgICAgICAvLyBhbmQgYWRkIGl0J3MgcGFyZW50J3Mgb2Zmc2V0IHRvIGdldCBwYWdlIG9mZnNldFxuICAgICAgICBkbyB7XG4gICAgICAgICAgICB0b3AgKz0gZWxlbWVudC5vZmZzZXRUb3AgfHwgMDtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoZWxlbWVudCk7XG4gICAgXG4gICAgICAgIHJldHVybiB0b3A7XG4gICAgfVxuXG4gICAgc2Nyb2xsSGFuZGxlcigpIFxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJhbGxheEl0ZW1zLmZvckVhY2gocGFyYWxsYXhJdGVtID0+IHtcbiAgICAgICAgICAgIHZhciBzZWN0aW9uUGFyZW50ID0gKHBhcmFsbGF4SXRlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGFuemVycHJlc3MtdGl0bGUtYXJlYScpKSA/IHBhcmFsbGF4SXRlbS5wYXJlbnRFbGVtZW50IDogcGFyYWxsYXhJdGVtLmNsb3Nlc3QoJ3NlY3Rpb24nKSxcbiAgICAgICAgICAgICAgICBzZWN0aW9uUGFyZW50VG9wID0gdGhpcy5nZXRFbGVtZW50T2Zmc2V0KHNlY3Rpb25QYXJlbnQpLFxuICAgICAgICAgICAgICAgIHBhcmVudE9mZnNldEJvdHRvbSA9IHNlY3Rpb25QYXJlbnRUb3AgKyBzZWN0aW9uUGFyZW50Lm9mZnNldEhlaWdodCxcbiAgICAgICAgICAgICAgICB3aW5kb3dIZWlnaHROYXYgPSAodGhpcy5nZXRFbGVtZW50T2Zmc2V0KHBhcmFsbGF4SXRlbSkgIT09IDApID8gd2luZG93LnBhZ2VZT2Zmc2V0ICsgdGhpcy5uYXZIZWlnaHQgOiB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgXG4gICAgICAgICAgICBpZiAod2luZG93SGVpZ2h0TmF2ID4gc2VjdGlvblBhcmVudFRvcCAmJiB3aW5kb3dIZWlnaHROYXYgPCBwYXJlbnRPZmZzZXRCb3R0b20pIHtcbiAgICAgICAgICAgICAgICBwYXJhbGxheEl0ZW0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZTNkKDAsICcgKyAoKHdpbmRvd0hlaWdodE5hdiAtIHNlY3Rpb25QYXJlbnRUb3ApICogLjYpICsgJ3B4LCAwKSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFsbGF4SXRlbS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlM2QoMCwgMHB4LCAwKSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxubmV3IFBhcmFsbGF4KCk7IiwiY2xhc3MgU2xpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIFxuICAgIHtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLnNsaWRlck51bWJlciA9IDM7XG4gICAgICAgIHRoaXMuc2xpZGVyV3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYW56ZXJwcmVzcy1zbGlkZXItd3JhcCcpO1xuICAgICAgICB0aGlzLnNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kYW56ZXJwcmVzcy1zbGlkZXInKTtcblxuICAgICAgICBpZiAoIXRoaXMuc2xpZGVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jcmVhdGVQYWdpbmF0aW9uKCk7XG4gICAgICAgIHRoaXMuaGFuZGxlU2xpZGVyKCk7ICAgXG4gICAgfVxuXG4gICAgY3JlYXRlUGFnaW5hdGlvbigpXG4gICAge1xuICAgICAgICBsZXQgc2xpZGVyUGFnaW5hdGlvbiA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkYW56ZXJwcmVzcy1zbGlkZXItcGFnaW5hdGlvblwiPlxuICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG5cbiAgICAgICAgbGV0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoc2xpZGVyUGFnaW5hdGlvbiwgJ3RleHQvaHRtbCcpLmJvZHkuZmlyc3RDaGlsZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNsaWRlci5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgICAgICBpZiAoaSA+IHRoaXMuc2xpZGVyTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgICAgICAgICAgZG9jLmNoaWxkcmVuWzBdLmFwcGVuZChidXR0b24pO1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhY3RpdmVEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGFuemVycHJlc3Mtc2xpZGVyIGRpdi5hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFjdGl2ZUxpID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRhbnplcnByZXNzLXNsaWRlci1wYWdpbmF0aW9uIHVsIGxpJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVTdHVmZihhY3RpdmVEaXYpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZVN0dWZmKGFjdGl2ZUxpKTtcblxuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNsaWRlcldyYXAuYXBwZW5kKGRvYyk7XG4gICAgfVxuXG4gICAgaGFuZGxlU2xpZGVyKCkgXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7ICAgICAgICBcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuc2xpZGVyLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgbGV0IGl0ZW1IZWlnaHQgPSBjaGlsZC5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChpdGVtSGVpZ2h0ID4gdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IGl0ZW1IZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1jaGlsZCcpO1xuICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zbGlkZXIuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuICAgIH1cblxuICAgIHNldEFjdGl2ZVN0dWZmKHRoaW5nKSBcbiAgICB7XG4gICAgICAgIGlmICh0aGluZykge1xuICAgICAgICAgICAgdGhpbmcuZm9yRWFjaCgoZGl2KSA9PiB7XG4gICAgICAgICAgICAgICAgZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5uZXcgU2xpZGVyKCk7IiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9